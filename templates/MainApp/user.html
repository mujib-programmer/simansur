{% extends "base.html" %}

{% block title %}{{ block.super }} - {{ slug|capfirst }}{% endblock %}

{% block body-id %}{{ slug|slugify }}{% endblock %}

{% block content%}
        <div class="page-header">
            <h1>Daftar User</h1>
        </div>

        <div class="row">
            <div class="col-md-12">
                {% if semua_user_profile %}

              <table class="table">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Username</th>
                    <th>Email</th>
                    <th>Groups</th>
                    <th>Nama Depan</th>
                    <th>Nama Belakang</th>
                    <th>Jabatan</th>
                    <th>Bidang</th>
                    <th>No HP</th>
                    <th>Aksi</th>
                  </tr>
                </thead>
                <tbody>
                {% for user_profile in semua_user_profile %}
                  <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ user_profile.user.username }}</td>
                    <td>{{ user_profile.user.email }}</td>
                    <td>
                      {% for g in user_profile.user.groups.all %}
                            {{ g.name }}
                            {{ ', ' }}
                      {% endfor %}
                    </td>
                    <td>{{ user_profile.user.first_name }}</td>
                    <td>{{ user_profile.user.last_name }}</td>
                    <td>{{ user_profile.jabatan }}</td>
                    <td>{{ user_profile.bidang }}</td>
                    <td>{{ user_profile.no_telepon }}</td>
                    <td>
                        <a href="/user/{{ user_profile.user.username }}/">
                        <button type="button" class="btn btn-default" aria-label="Left Align">
                            <span class="glyphicon glyphicon glyphicon-folder-open" aria-hidden="true"></span>
                        </button>
                        </a>
                        <a href="{% url 'user_tambah' %}">
                        <button type="button" class="btn btn-default" aria-label="Left Align">
                            <span class="glyphicon glyphicon glyphicon-plus" aria-hidden="true"></span>
                        </button>
                        </a>
                        <a href="/user_edit/{{ user_profile.user.username }}/">
                        <button type="button" class="btn btn-default" aria-label="Left Align">
                            <span class="glyphicon glyphicon glyphicon-pencil" aria-hidden="true"></span>
                        </button>
                        </a>
                        <a href="/user_delete/{{ user_profile.user.username }}/" onclick="return confirm('Apakah anda yakin ingin menghapus user {{ user_profile.user.username }} ?');">
                        <button type="button" class="btn btn-default" aria-label="Left Align">
                            <span class="glyphicon glyphicon glyphicon-minus" aria-hidden="true"></span>
                        </button>
                        </a>

                    </td>
                  </tr>
                {% endfor %}

                </tbody>
              </table>

                {% else %}
                 <p>
                     Tidak ada user.
                     <a href="{% url 'user_tambah' %}">
                        <button type="button" class="btn btn-default" aria-label="Left Align">
                            <span class="glyphicon glyphicon glyphicon-plus" aria-hidden="true"> Tambah User</span>
                        </button>
                     </a>
                 </p>

                {% endif %}
            </div>
        </div>

{% endblock %}
